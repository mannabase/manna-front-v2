<div class="wallet-container" *ngIf="!showWalletPage && !showPanel && !connectedToMetamask">
    <div class="intro">
        <img
            src="../../../assets/images/accont-wallet-manna-main-logo.svg"
            alt="logo"
            class="intro--logo"
        />
        <h1 class="intro--mannabase">Mannabase</h1>
        <div class="intro--title">
            <h4 class="intro--title--trade mt-0">Trade.</h4>
            <h4 class="intro--title--create mt-0">Create.</h4>
            <h4 class="intro--title--market mt-0">Market Make.</h4>
        </div>
        <div class="intro--buttun" (click)="toggleWalletPage()">
            <img
                src="../../../assets/images/account-wallet-buttun-icon.svg"
                alt="wallet"
                class="intro--buttun--icon"
            />
            <span class="wallet--buttun--text">Connect Wallet</span>
        </div>
    </div>
</div>

<!-- show connect wallet buttuns -->

<div class="wallet-container" *ngIf="showWalletPage && !showPanel && !connectedToMetamask">
    <div class="wallets--welcome">
        <div class="wallets--welcome--text">Welcome to</div>
        <div class="wallets--welcome--mannabase">mannabase</div>
    </div>
    <div class="wallets--options">
        <h2 class="wallets--options--connect">Connect Wallet</h2>
        <div class="wallets--options--buttuns" (click)="openMetamaskExtension()" *ngIf="state != MetamaskState.WRONG_CHAIN">
            <img
                src="../../../assets/images/account-wallet-metamask-icon.svg"
                alt="metaMask"
                class="wallets--options--buttuns--icon"
            />
            <span class="wallets--options--buttuns--text">Metamask</span>
            <tui-svg src="tuiIconChevronRight"></tui-svg>
        </div>
        <div class="wallets--options--buttuns" (click)="switchChain()" *ngIf="state == MetamaskState.WRONG_CHAIN">
            <img
                src="../../../assets/images/account-wallet-Arbitrum.svg"
                alt="Arbitrum"
                class="wallets--options--buttuns--icon"
            />
            <span class="wallets--options--buttuns--text">Goerli</span>
            <tui-svg src="tuiIconChevronRight"></tui-svg>
        </div>
        <div class="wallets--options--buttuns">
            <img
                src="../../../assets/images/account-wallet-gitCoin-icon.svg"
                alt="gitcoin"
                class="wallets--options--buttuns--icon"
            />
            <span class="wallets--options--buttuns--text">Gitcoin Passport</span>
            <tui-svg src="tuiIconChevronRight"></tui-svg>
        </div>
    </div>
</div>

<div class="panel" *ngIf="showPanel || connectedToMetamask">
    <div class="panel--welcome">
        <div class="panel--welcome--welcome">Welcome Back</div>
        <div class="panel--welcome--overview">Overview</div>
    </div>
    <div class="panel--dashboard">
        <div class="panel--dashboard--balance">
            <div class="panel--dashboard--balance--amount" >
                <div class="panel--dashboard--balance--amount--text" >Current Balance</div> 
                <div class="panel--dashboard--balance--amount--number" >
                    <img class="panel--dashboard--balance--amount--number--logo" src="../../../assets/images/accont-wallet-panel-manna-logo.svg" alt="logo">
                    <div class="panel--dashboard--balance--amount--number--count">
                        {{ balance || 'Loading...' }}
                    </div>
                    <p class="panel--dashboard--balance--amount--number--manna">
                        manna
                    </p>
                </div>
            </div>
            <div class="panel--dashboard--balance--details">
                <div class="panel--dashboard--balance--details--info">
                    <img src="../../../assets/images/accont-wallet-panel-inYourWallet.svg" alt="wallet" class="panel--dashboard--balance--details--info--img">
                    <div class="panel--dashboard--balance--details--info--text">
                        In your wallet
                        <div class="flex align-items-center">
                            <img src="../../../assets/images/accont-wallet-panel-manna-logo-small.svg" 
                            alt=""
                            class="panel--dashboard--balance--details--info--text--img">
                            <div class="panel--dashboard--balance--details--info--text--num">1025.00</div> 
                        </div>
                    </div>
                </div>
                <div class="panel--dashboard--balance--details--info">
                    <img src="../../../assets/images/accont-wallet-panel-inYourWallet.svg" alt="wallet" class="panel--dashboard--balance--details--info--img">
                    <div class="panel--dashboard--balance--details--info--text">
                        In Mannabase
                        <div class="flex align-items-center">
                            <img src="../../../assets/images/accont-wallet-panel-manna-logo-small.svg" 
                            alt=""
                            class="panel--dashboard--balance--details--info--text--img">
                            <div class="panel--dashboard--balance--details--info--text--num">209.00</div> 
                        </div>
                    </div>
                </div>
                <div class="panel--dashboard--balance--details--spacer">

                </div>
                <button (click)="claimWithSigs()" class="panel--dashboard--buttons--withdraw">
                        Withdraw
                </button>
            </div>
            <div class="panel--dashboard--buttons">
                <div class="panel--dashboard--buttons--withdraw">
                    Withdraw
                </div>
                <div class="panel--dashboard--buttons--daily" (click)="show()">
                    Daily Reward
                </div>
            </div>
        </div>
        <div class="panel--dashboard--daily">
            <div class="panel--dashboard--daily--header">
                <img src="../../../assets/images/accont-wallet-panel-stars.svg" alt="star" class="panel--dashboard--daily--header--star">
                <div class="panel--dashboard--daily--header--reward">Daily Reward</div>
                <div class="panel--dashboard--daily--header--number">53.75839028</div>
            </div>
            <div class="panel--dashboard--daily--claim">
                <div class="panel--dashboard--daily--claim--text mb-3">This transaction will claim all earning & credit them to your wallet</div>
                <div tuiAction class="panel--dashboard--daily--claim--buttun" (click)="claimDailyReward()">
                    <span *ngIf="!claimDailyLoader">Claim</span>
                    <span *ngIf="claimDailyLoader">
                        Loading...
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="panel--transactions">
        <div class="panel--transactions--header">
            <div class="panel--transactions--header--title">
                Wallet Activity
            </div>
            <div class="panel--transactions--header--filters">
                
                <div class="panel--transactions--header--filters--date">
                    <button
                      [class]="dateFilter === 'all' ? 'selected' : 'default'"
                      (click)="dateFilter = 'all'; filterTransactions();"
                    >
                      All
                    </button>
                    <button
                      [class]="dateFilter === 'month' ? 'selected' : 'default'"
                      (click)="dateFilter = 'month'; filterTransactions();"
                    >
                    Monthly
                    </button>
                    <button
                      [class]="dateFilter === 'week' ? 'selected' : 'default'"
                      (click)="dateFilter = 'week'; filterTransactions();"
                    >
                    Weekly
                    </button>
                    <button
                      [class]="dateFilter === 'today' ? 'selected' : 'default'"
                      (click)="dateFilter = 'today'; filterTransactions();"
                    >
                      Today
                    </button>
                  </div>
                  
                <!-- <div class="panel--transactions--header--filters--type">
                  <button (click)="typeFilter = 'withdraw'; filterTransactions()">Withdraw</button>
                  <button (click)="typeFilter = 'receive'; filterTransactions()">Receive</button>
                  <button (click)="typeFilter = 'all'; filterTransactions()">All</button>
                </div> -->
          </div>
        </div>
        <div *ngFor="let transaction of filteredTransactions"
              class="panel--transactions--table">
                <div [ngClass]="{'received': transaction.type === 'receive', 'withdraw': transaction.type === 'withdraw'}" 
                 class="panel--transactions--table--row--type">
                 <img *ngIf="transaction.type === 'receive'" src="../../../assets/images/accont-wallet-panel-recieved.svg" alt="Receive Icon" />
                 <img *ngIf="transaction.type === 'withdraw'" src="../../../assets/images/accont-wallet-panel-withdraw.svg" alt="Withdraw Icon" />
                 {{ transaction.type }}</div>
                <div class="panel--transactions--table--row">{{ transaction.date | date }}</div>
                <div class="panel--transactions--table--row">{{ transaction.amount }}</div>
                <div 
                [ngClass]="{'received': transaction.type === 'receive', 'withdraw': transaction.type === 'withdraw', 
                'italic': transaction.result === 'pending'}" 
                class="panel--transactions--table--row">{{ transaction.result }}</div>
        </div>
        <!-- <table class="custom-table">
            <thead>
              <tr>
                <th (click)="sortData('id')">ID</th>
                <th (click)="sortData('name')">Name</th>
                <th (click)="sortData('age')">Age</th>
                <th (click)="sortData('city')">City</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of data">
                <td>{{ item.id }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.age }}</td>
                <td>{{ item.city }}</td>
              </tr>
            </tbody>
          </table> -->
          <!-- <div>
            <select [(ngModel)]="dateFilter" (change)="filterTransactions()">
              <option value="today">Today</option>
              <option value="week">Last 7 Days</option>
              <option value="month">Last 30 Days</option>
              <option value="all">All</option>
            </select>
          </div>
          
          <div>
            <select [(ngModel)]="typeFilter" (change)="filterTransactions()">
              <option value="withdraw">Withdraw</option>
              <option value="receive">Receive</option>
              <option value="all">All</option>
            </select>
          </div> -->
    </div>
</div>
